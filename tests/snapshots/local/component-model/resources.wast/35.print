(component $P
  (type (;0;)
    (component
      (import "T" (type (;0;) (sub resource)))
      (type (;1;) (own 0))
      (type (;2;) (func (param "t" 1)))
      (export (;0;) "foo" (func (type 2)))
    )
  )
  (import "C1" (component $C1 (;0;) (type 0)))
  (type (;1;)
    (component
      (import "T" (type (;0;) (sub resource)))
      (type (;1;) (own 0))
      (type (;2;) (func (param "t" 1)))
      (import "foo" (func (;0;) (type 2)))
    )
  )
  (import "C2" (component $C2 (;1;) (type 1)))
  (type $R (;2;) (resource (rep i32)))
  (instance $c1 (;0;) (instantiate $C1
      (with "T" (type $R))
    )
  )
  (alias export $c1 "foo" (func (;0;)))
  (instance $c2 (;1;) (instantiate $C2
      (with "T" (type $R))
      (with "foo" (func 0))
    )
  )
)