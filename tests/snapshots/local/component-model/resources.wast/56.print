(component
  (type $r' (;0;) (resource (rep i32)))
  (component $C (;0;)
    (import "x" (type $x (;0;) (sub resource)))
    (export (;1;) "y" (type $x))
  )
  (instance $c (;0;) (instantiate $C
      (with "x" (type $r'))
    )
  )
  (alias export $c "y" (type (;1;)))
  (instance $i (;1;)
    (export "x" (type 1))
  )
  (component $C2 (;1;)
    (type (;0;)
      (instance
        (type (;0;)
          (instance
            (export (;0;) "i2" (type (sub resource)))
          )
        )
        (export (;0;) "i1" (instance (type 0)))
      )
    )
    (import "x" (instance $i (;0;) (type 0)))
    (alias export $i "i1" (instance (;1;)))
    (alias export 1 "i2" (type (;1;)))
    (export (;2;) "y" (type 1))
  )
  (alias export $i "x" (type (;2;)))
  (instance $i2 (;2;)
    (export "i2" (type 2))
  )
  (instance $i1 (;3;)
    (export "i1" (instance $i2))
  )
  (instance $c2 (;4;) (instantiate $C2
      (with "x" (instance $i1))
    )
  )
  (alias export $c2 "y" (type (;3;)))
  (export $r (;4;) "x" (type 3))
  (type (;5;) (own $r))
  (core func $f (;0;) (canon resource.drop 5))
  (type (;6;) (own $r))
  (type (;7;) (func (param "x" 6)))
  (func (;0;) (type 7) (canon lift (core func $f)))
  (export (;1;) "f" (func 0))
)