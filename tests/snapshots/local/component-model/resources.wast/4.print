(component
  (type $x (;0;) (resource (rep i32)))
  (core func $f1 (;0;) (canon resource.new $x))
  (core func $f2 (;1;) (canon resource.rep $x))
  (type (;1;) (own $x))
  (core func $f3 (;2;) (canon resource.drop 1))
  (type (;2;) (borrow $x))
  (core func $f4 (;3;) (canon resource.drop 2))
  (core module $m (;0;)
    (type (;0;) (func (param i32) (result i32)))
    (type (;1;) (func (param i32)))
    (import "" "f1" (func (;0;) (type 0)))
    (import "" "f2" (func (;1;) (type 0)))
    (import "" "f3" (func (;2;) (type 1)))
    (import "" "f4" (func (;3;) (type 1)))
  )
  (core instance (;0;)
    (export "f1" (func $f1))
    (export "f2" (func $f2))
    (export "f3" (func $f3))
    (export "f4" (func $f4))
  )
  (core instance (;1;) (instantiate $m
      (with "" (instance 0))
    )
  )
)