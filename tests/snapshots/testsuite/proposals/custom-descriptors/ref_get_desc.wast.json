{
  "source_filename": "tests/testsuite/proposals/custom-descriptors/ref_get_desc.wast",
  "commands": [
    {
      "type": "module",
      "line": 3,
      "filename": "ref_get_desc.0.wasm",
      "module_type": "binary"
    },
    {
      "type": "module",
      "line": 37,
      "filename": "ref_get_desc.1.wasm",
      "module_type": "binary"
    },
    {
      "type": "assert_invalid",
      "line": 72,
      "filename": "ref_get_desc.2.wasm",
      "module_type": "binary",
      "text": "unknown type"
    },
    {
      "type": "assert_invalid",
      "line": 82,
      "filename": "ref_get_desc.3.wasm",
      "module_type": "binary",
      "text": "type without descriptor"
    },
    {
      "type": "assert_invalid",
      "line": 93,
      "filename": "ref_get_desc.4.wasm",
      "module_type": "binary",
      "text": "type without descriptor"
    },
    {
      "type": "assert_invalid",
      "line": 104,
      "filename": "ref_get_desc.5.wasm",
      "module_type": "binary",
      "text": "type without descriptor"
    },
    {
      "type": "assert_invalid",
      "line": 118,
      "filename": "ref_get_desc.6.wasm",
      "module_type": "binary",
      "text": "type mismatch"
    },
    {
      "type": "assert_invalid",
      "line": 132,
      "filename": "ref_get_desc.7.wasm",
      "module_type": "binary",
      "text": "type mismatch"
    },
    {
      "type": "assert_invalid",
      "line": 146,
      "filename": "ref_get_desc.8.wasm",
      "module_type": "binary",
      "text": "type mismatch"
    },
    {
      "type": "module",
      "line": 159,
      "filename": "ref_get_desc.9.wasm",
      "module_type": "binary"
    },
    {
      "type": "assert_invalid",
      "line": 176,
      "filename": "ref_get_desc.10.wasm",
      "module_type": "binary",
      "text": "type mismatch"
    },
    {
      "type": "assert_invalid",
      "line": 192,
      "filename": "ref_get_desc.11.wasm",
      "module_type": "binary",
      "text": "type mismatch"
    },
    {
      "type": "assert_invalid",
      "line": 208,
      "filename": "ref_get_desc.12.wasm",
      "module_type": "binary",
      "text": "type mismatch"
    },
    {
      "type": "assert_invalid",
      "line": 224,
      "filename": "ref_get_desc.13.wasm",
      "module_type": "binary",
      "text": "type mismatch"
    },
    {
      "type": "assert_invalid",
      "line": 240,
      "filename": "ref_get_desc.14.wasm",
      "module_type": "binary",
      "text": "constant expression required"
    },
    {
      "type": "module",
      "line": 253,
      "filename": "ref_get_desc.15.wasm",
      "module_type": "binary"
    },
    {
      "type": "module",
      "line": 293,
      "filename": "ref_get_desc.16.wasm",
      "module_type": "binary"
    },
    {
      "type": "assert_trap",
      "line": 400,
      "action": {
        "type": "invoke",
        "field": "null",
        "args": []
      },
      "text": "null reference"
    },
    {
      "type": "assert_trap",
      "line": 401,
      "action": {
        "type": "invoke",
        "field": "null-typed",
        "args": []
      },
      "text": "null reference"
    },
    {
      "type": "assert_trap",
      "line": 402,
      "action": {
        "type": "invoke",
        "field": "null-global",
        "args": []
      },
      "text": "null reference"
    },
    {
      "type": "assert_trap",
      "line": 403,
      "action": {
        "type": "invoke",
        "field": "null-exact-global",
        "args": []
      },
      "text": "null reference"
    },
    {
      "type": "assert_trap",
      "line": 404,
      "action": {
        "type": "invoke",
        "field": "null-call",
        "args": []
      },
      "text": "null reference"
    },
    {
      "type": "assert_trap",
      "line": 405,
      "action": {
        "type": "invoke",
        "field": "null-exact-call",
        "args": []
      },
      "text": "null reference"
    },
    {
      "type": "assert_trap",
      "line": 406,
      "action": {
        "type": "invoke",
        "field": "get-from-param",
        "args": [
          {
            "type": "nullref"
          }
        ]
      },
      "text": "null reference"
    },
    {
      "type": "assert_return",
      "line": 408,
      "action": {
        "type": "invoke",
        "field": "alloc-0",
        "args": []
      },
      "expected": [
        {
          "type": "i32",
          "value": "0"
        }
      ]
    },
    {
      "type": "assert_return",
      "line": 409,
      "action": {
        "type": "invoke",
        "field": "global-1",
        "args": []
      },
      "expected": [
        {
          "type": "i32",
          "value": "1"
        }
      ]
    },
    {
      "type": "assert_return",
      "line": 410,
      "action": {
        "type": "invoke",
        "field": "global-2",
        "args": []
      },
      "expected": [
        {
          "type": "i32",
          "value": "2"
        }
      ]
    },
    {
      "type": "assert_return",
      "line": 411,
      "action": {
        "type": "invoke",
        "field": "global-3",
        "args": []
      },
      "expected": [
        {
          "type": "i32",
          "value": "3"
        }
      ]
    },
    {
      "type": "assert_return",
      "line": 412,
      "action": {
        "type": "invoke",
        "field": "call-4",
        "args": []
      },
      "expected": [
        {
          "type": "i32",
          "value": "4"
        }
      ]
    },
    {
      "type": "assert_return",
      "line": 413,
      "action": {
        "type": "invoke",
        "field": "call-5",
        "args": []
      },
      "expected": [
        {
          "type": "i32",
          "value": "5"
        }
      ]
    },
    {
      "type": "assert_return",
      "line": 414,
      "action": {
        "type": "invoke",
        "field": "equal",
        "args": []
      },
      "expected": [
        {
          "type": "i32",
          "value": "1"
        }
      ]
    },
    {
      "type": "assert_return",
      "line": 415,
      "action": {
        "type": "invoke",
        "field": "not-equal",
        "args": []
      },
      "expected": [
        {
          "type": "i32",
          "value": "0"
        }
      ]
    },
    {
      "type": "assert_return",
      "line": 416,
      "action": {
        "type": "invoke",
        "field": "chain-equal",
        "args": []
      },
      "expected": [
        {
          "type": "i32",
          "value": "1"
        }
      ]
    },
    {
      "type": "module",
      "line": 420,
      "filename": "ref_get_desc.17.wasm",
      "module_type": "binary"
    },
    {
      "type": "register",
      "line": 437,
      "as": "A"
    },
    {
      "type": "module",
      "line": 439,
      "filename": "ref_get_desc.18.wasm",
      "module_type": "binary"
    },
    {
      "type": "assert_return",
      "line": 464,
      "action": {
        "type": "invoke",
        "field": "imported-desc-equal",
        "args": []
      },
      "expected": [
        {
          "type": "i32",
          "value": "1"
        }
      ]
    },
    {
      "type": "assert_return",
      "line": 465,
      "action": {
        "type": "invoke",
        "field": "imported-check-equal",
        "args": []
      },
      "expected": [
        {
          "type": "i32",
          "value": "1"
        }
      ]
    },
    {
      "type": "assert_return",
      "line": 466,
      "action": {
        "type": "invoke",
        "field": "imported-check-not-equal",
        "args": []
      },
      "expected": [
        {
          "type": "i32",
          "value": "0"
        }
      ]
    }
  ]
}