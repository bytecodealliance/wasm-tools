{
  "source_filename": "tests/testsuite/proposals/function-references/elem.wast",
  "commands": [
    {
      "type": "module",
      "line": 4,
      "filename": "elem.0.wasm"
    },
    {
      "type": "module",
      "line": 80,
      "filename": "elem.1.wasm"
    },
    {
      "type": "module",
      "line": 87,
      "filename": "elem.2.wasm"
    },
    {
      "type": "module",
      "line": 98,
      "filename": "elem.3.wasm"
    },
    {
      "type": "module",
      "line": 103,
      "filename": "elem.4.wasm"
    },
    {
      "type": "module",
      "line": 109,
      "filename": "elem.5.wasm"
    },
    {
      "type": "module",
      "line": 118,
      "filename": "elem.6.wasm"
    },
    {
      "type": "module",
      "line": 128,
      "filename": "elem.7.wasm"
    },
    {
      "type": "module",
      "line": 135,
      "filename": "elem.8.wasm"
    },
    {
      "type": "module",
      "line": 142,
      "filename": "elem.9.wasm"
    },
    {
      "type": "assert_return",
      "line": 156,
      "action": {
        "type": "invoke",
        "field": "call-7",
        "args": []
      },
      "expected": [
        {
          "type": "i32",
          "value": "65"
        }
      ]
    },
    {
      "type": "assert_return",
      "line": 157,
      "action": {
        "type": "invoke",
        "field": "call-9",
        "args": []
      },
      "expected": [
        {
          "type": "i32",
          "value": "66"
        }
      ]
    },
    {
      "type": "module",
      "line": 161,
      "filename": "elem.10.wasm"
    },
    {
      "type": "assert_return",
      "line": 175,
      "action": {
        "type": "invoke",
        "field": "call-7",
        "args": []
      },
      "expected": [
        {
          "type": "i32",
          "value": "65"
        }
      ]
    },
    {
      "type": "assert_return",
      "line": 176,
      "action": {
        "type": "invoke",
        "field": "call-9",
        "args": []
      },
      "expected": [
        {
          "type": "i32",
          "value": "66"
        }
      ]
    },
    {
      "type": "module",
      "line": 181,
      "filename": "elem.11.wasm"
    },
    {
      "type": "module",
      "line": 186,
      "filename": "elem.12.wasm"
    },
    {
      "type": "module",
      "line": 192,
      "filename": "elem.13.wasm"
    },
    {
      "type": "module",
      "line": 196,
      "filename": "elem.14.wasm"
    },
    {
      "type": "module",
      "line": 201,
      "filename": "elem.15.wasm"
    },
    {
      "type": "module",
      "line": 206,
      "filename": "elem.16.wasm"
    },
    {
      "type": "module",
      "line": 211,
      "filename": "elem.17.wasm"
    },
    {
      "type": "module",
      "line": 217,
      "filename": "elem.18.wasm"
    },
    {
      "type": "module",
      "line": 223,
      "filename": "elem.19.wasm"
    },
    {
      "type": "module",
      "line": 229,
      "filename": "elem.20.wasm"
    },
    {
      "type": "module",
      "line": 238,
      "filename": "elem.21.wasm"
    },
    {
      "type": "module",
      "line": 243,
      "filename": "elem.22.wasm"
    },
    {
      "type": "module",
      "line": 255,
      "filename": "elem.23.wasm"
    },
    {
      "type": "module",
      "line": 260,
      "filename": "elem.24.wasm"
    },
    {
      "type": "module",
      "line": 272,
      "filename": "elem.25.wasm"
    },
    {
      "type": "module",
      "line": 277,
      "filename": "elem.26.wasm"
    },
    {
      "type": "module",
      "line": 289,
      "filename": "elem.27.wasm"
    },
    {
      "type": "module",
      "line": 294,
      "filename": "elem.28.wasm"
    },
    {
      "type": "module",
      "line": 306,
      "filename": "elem.29.wasm"
    },
    {
      "type": "module",
      "line": 311,
      "filename": "elem.30.wasm"
    },
    {
      "type": "module",
      "line": 322,
      "filename": "elem.31.wasm"
    },
    {
      "type": "module",
      "line": 327,
      "filename": "elem.32.wasm"
    },
    {
      "type": "module",
      "line": 339,
      "filename": "elem.33.wasm"
    },
    {
      "type": "module",
      "line": 344,
      "filename": "elem.34.wasm"
    },
    {
      "type": "module",
      "line": 355,
      "filename": "elem.35.wasm"
    },
    {
      "type": "module",
      "line": 360,
      "filename": "elem.36.wasm"
    },
    {
      "type": "module",
      "line": 372,
      "filename": "elem.37.wasm"
    },
    {
      "type": "module",
      "line": 377,
      "filename": "elem.38.wasm"
    },
    {
      "type": "module",
      "line": 388,
      "filename": "elem.39.wasm"
    },
    {
      "type": "module",
      "line": 393,
      "filename": "elem.40.wasm"
    },
    {
      "type": "module",
      "line": 405,
      "filename": "elem.41.wasm"
    },
    {
      "type": "module",
      "line": 410,
      "filename": "elem.42.wasm"
    },
    {
      "type": "module",
      "line": 421,
      "filename": "elem.43.wasm"
    },
    {
      "type": "module",
      "line": 426,
      "filename": "elem.44.wasm"
    },
    {
      "type": "module",
      "line": 439,
      "filename": "elem.45.wasm"
    },
    {
      "type": "module",
      "line": 444,
      "filename": "elem.46.wasm"
    },
    {
      "type": "module",
      "line": 456,
      "filename": "elem.47.wasm"
    },
    {
      "type": "module",
      "line": 461,
      "filename": "elem.48.wasm"
    },
    {
      "type": "module",
      "line": 473,
      "filename": "elem.49.wasm"
    },
    {
      "type": "module",
      "line": 478,
      "filename": "elem.50.wasm"
    },
    {
      "type": "module",
      "line": 490,
      "filename": "elem.51.wasm"
    },
    {
      "type": "module",
      "line": 495,
      "filename": "elem.52.wasm"
    },
    {
      "type": "assert_invalid",
      "line": 508,
      "filename": "elem.53.wasm",
      "text": "type mismatch",
      "module_type": "binary"
    },
    {
      "type": "assert_invalid",
      "line": 516,
      "filename": "elem.54.wasm",
      "text": "type mismatch",
      "module_type": "binary"
    },
    {
      "type": "module",
      "line": 530,
      "filename": "elem.55.wasm"
    },
    {
      "type": "module",
      "line": 535,
      "filename": "elem.56.wasm"
    },
    {
      "type": "module",
      "line": 547,
      "filename": "elem.57.wasm"
    },
    {
      "type": "module",
      "line": 552,
      "filename": "elem.58.wasm"
    },
    {
      "type": "module",
      "line": 564,
      "filename": "elem.59.wasm"
    },
    {
      "type": "module",
      "line": 569,
      "filename": "elem.60.wasm"
    },
    {
      "type": "assert_uninstantiable",
      "line": 585,
      "filename": "elem.61.wasm",
      "text": "out of bounds table access",
      "module_type": "binary"
    },
    {
      "type": "assert_uninstantiable",
      "line": 594,
      "filename": "elem.62.wasm",
      "text": "out of bounds table access",
      "module_type": "binary"
    },
    {
      "type": "assert_uninstantiable",
      "line": 603,
      "filename": "elem.63.wasm",
      "text": "out of bounds table access",
      "module_type": "binary"
    },
    {
      "type": "assert_uninstantiable",
      "line": 612,
      "filename": "elem.64.wasm",
      "text": "out of bounds table access",
      "module_type": "binary"
    },
    {
      "type": "assert_uninstantiable",
      "line": 619,
      "filename": "elem.65.wasm",
      "text": "out of bounds table access",
      "module_type": "binary"
    },
    {
      "type": "assert_uninstantiable",
      "line": 627,
      "filename": "elem.66.wasm",
      "text": "out of bounds table access",
      "module_type": "binary"
    },
    {
      "type": "assert_uninstantiable",
      "line": 636,
      "filename": "elem.67.wasm",
      "text": "out of bounds table access",
      "module_type": "binary"
    },
    {
      "type": "assert_uninstantiable",
      "line": 644,
      "filename": "elem.68.wasm",
      "text": "out of bounds table access",
      "module_type": "binary"
    },
    {
      "type": "assert_uninstantiable",
      "line": 653,
      "filename": "elem.69.wasm",
      "text": "out of bounds table access",
      "module_type": "binary"
    },
    {
      "type": "assert_uninstantiable",
      "line": 661,
      "filename": "elem.70.wasm",
      "text": "out of bounds table access",
      "module_type": "binary"
    },
    {
      "type": "assert_uninstantiable",
      "line": 670,
      "filename": "elem.71.wasm",
      "text": "out of bounds table access",
      "module_type": "binary"
    },
    {
      "type": "assert_uninstantiable",
      "line": 678,
      "filename": "elem.72.wasm",
      "text": "out of bounds table access",
      "module_type": "binary"
    },
    {
      "type": "module",
      "line": 689,
      "filename": "elem.73.wasm"
    },
    {
      "type": "assert_trap",
      "line": 697,
      "action": {
        "type": "invoke",
        "field": "init",
        "args": []
      },
      "text": "out of bounds table access"
    },
    {
      "type": "module",
      "line": 699,
      "filename": "elem.74.wasm"
    },
    {
      "type": "assert_trap",
      "line": 707,
      "action": {
        "type": "invoke",
        "field": "init",
        "args": []
      },
      "text": "out of bounds table access"
    },
    {
      "type": "assert_invalid",
      "line": 713,
      "filename": "elem.75.wasm",
      "text": "unknown table",
      "module_type": "binary"
    },
    {
      "type": "assert_invalid",
      "line": 724,
      "filename": "elem.76.wasm",
      "text": "type mismatch",
      "module_type": "binary"
    },
    {
      "type": "assert_invalid",
      "line": 732,
      "filename": "elem.77.wasm",
      "text": "type mismatch",
      "module_type": "binary"
    },
    {
      "type": "assert_invalid",
      "line": 740,
      "filename": "elem.78.wasm",
      "text": "type mismatch",
      "module_type": "binary"
    },
    {
      "type": "assert_invalid",
      "line": 748,
      "filename": "elem.79.wasm",
      "text": "type mismatch",
      "module_type": "binary"
    },
    {
      "type": "assert_invalid",
      "line": 756,
      "filename": "elem.80.wasm",
      "text": "type mismatch",
      "module_type": "binary"
    },
    {
      "type": "assert_invalid",
      "line": 765,
      "filename": "elem.81.wasm",
      "text": "type mismatch",
      "module_type": "binary"
    },
    {
      "type": "assert_invalid",
      "line": 775,
      "filename": "elem.82.wasm",
      "text": "constant expression required",
      "module_type": "binary"
    },
    {
      "type": "assert_invalid",
      "line": 783,
      "filename": "elem.83.wasm",
      "text": "constant expression required",
      "module_type": "binary"
    },
    {
      "type": "assert_invalid",
      "line": 791,
      "filename": "elem.84.wasm",
      "text": "constant expression required",
      "module_type": "binary"
    },
    {
      "type": "assert_invalid",
      "line": 799,
      "filename": "elem.85.wasm",
      "text": "constant expression required",
      "module_type": "binary"
    },
    {
      "type": "assert_invalid",
      "line": 807,
      "filename": "elem.86.wasm",
      "text": "constant expression required",
      "module_type": "binary"
    },
    {
      "type": "assert_invalid",
      "line": 816,
      "filename": "elem.87.wasm",
      "text": "unknown global 0",
      "module_type": "binary"
    },
    {
      "type": "assert_invalid",
      "line": 824,
      "filename": "elem.88.wasm",
      "text": "unknown global 1",
      "module_type": "binary"
    },
    {
      "type": "assert_invalid",
      "line": 833,
      "filename": "elem.89.wasm",
      "text": "constant expression required",
      "module_type": "binary"
    },
    {
      "type": "assert_invalid",
      "line": 845,
      "filename": "elem.90.wasm",
      "text": "type mismatch",
      "module_type": "binary"
    },
    {
      "type": "assert_invalid",
      "line": 853,
      "filename": "elem.91.wasm",
      "text": "type mismatch",
      "module_type": "binary"
    },
    {
      "type": "assert_invalid",
      "line": 861,
      "filename": "elem.92.wasm",
      "text": "type mismatch",
      "module_type": "binary"
    },
    {
      "type": "assert_invalid",
      "line": 869,
      "filename": "elem.93.wasm",
      "text": "type mismatch",
      "module_type": "binary"
    },
    {
      "type": "assert_invalid",
      "line": 877,
      "filename": "elem.94.wasm",
      "text": "constant expression required",
      "module_type": "binary"
    },
    {
      "type": "assert_invalid",
      "line": 886,
      "filename": "elem.95.wasm",
      "text": "constant expression required",
      "module_type": "binary"
    },
    {
      "type": "module",
      "line": 896,
      "filename": "elem.96.wasm"
    },
    {
      "type": "assert_return",
      "line": 907,
      "action": {
        "type": "invoke",
        "field": "call-overwritten",
        "args": []
      },
      "expected": [
        {
          "type": "i32",
          "value": "66"
        }
      ]
    },
    {
      "type": "module",
      "line": 909,
      "filename": "elem.97.wasm"
    },
    {
      "type": "assert_return",
      "line": 920,
      "action": {
        "type": "invoke",
        "field": "call-overwritten-element",
        "args": []
      },
      "expected": [
        {
          "type": "i32",
          "value": "66"
        }
      ]
    },
    {
      "type": "module",
      "line": 925,
      "name": "module1",
      "filename": "elem.98.wasm"
    },
    {
      "type": "register",
      "line": 943,
      "name": "module1",
      "as": "module1"
    },
    {
      "type": "assert_trap",
      "line": 945,
      "action": {
        "type": "invoke",
        "module": "module1",
        "field": "call-7",
        "args": []
      },
      "text": "uninitialized element"
    },
    {
      "type": "assert_return",
      "line": 946,
      "action": {
        "type": "invoke",
        "module": "module1",
        "field": "call-8",
        "args": []
      },
      "expected": [
        {
          "type": "i32",
          "value": "65"
        }
      ]
    },
    {
      "type": "assert_return",
      "line": 947,
      "action": {
        "type": "invoke",
        "module": "module1",
        "field": "call-9",
        "args": []
      },
      "expected": [
        {
          "type": "i32",
          "value": "66"
        }
      ]
    },
    {
      "type": "module",
      "line": 949,
      "name": "module2",
      "filename": "elem.99.wasm"
    },
    {
      "type": "assert_return",
      "line": 958,
      "action": {
        "type": "invoke",
        "module": "module1",
        "field": "call-7",
        "args": []
      },
      "expected": [
        {
          "type": "i32",
          "value": "67"
        }
      ]
    },
    {
      "type": "assert_return",
      "line": 959,
      "action": {
        "type": "invoke",
        "module": "module1",
        "field": "call-8",
        "args": []
      },
      "expected": [
        {
          "type": "i32",
          "value": "68"
        }
      ]
    },
    {
      "type": "assert_return",
      "line": 960,
      "action": {
        "type": "invoke",
        "module": "module1",
        "field": "call-9",
        "args": []
      },
      "expected": [
        {
          "type": "i32",
          "value": "66"
        }
      ]
    },
    {
      "type": "module",
      "line": 962,
      "name": "module3",
      "filename": "elem.100.wasm"
    },
    {
      "type": "assert_return",
      "line": 971,
      "action": {
        "type": "invoke",
        "module": "module1",
        "field": "call-7",
        "args": []
      },
      "expected": [
        {
          "type": "i32",
          "value": "67"
        }
      ]
    },
    {
      "type": "assert_return",
      "line": 972,
      "action": {
        "type": "invoke",
        "module": "module1",
        "field": "call-8",
        "args": []
      },
      "expected": [
        {
          "type": "i32",
          "value": "69"
        }
      ]
    },
    {
      "type": "assert_return",
      "line": 973,
      "action": {
        "type": "invoke",
        "module": "module1",
        "field": "call-9",
        "args": []
      },
      "expected": [
        {
          "type": "i32",
          "value": "70"
        }
      ]
    },
    {
      "type": "assert_invalid",
      "line": 978,
      "filename": "elem.101.wasm",
      "text": "type mismatch",
      "module_type": "binary"
    },
    {
      "type": "assert_invalid",
      "line": 983,
      "filename": "elem.102.wasm",
      "text": "type mismatch",
      "module_type": "binary"
    },
    {
      "type": "assert_invalid",
      "line": 988,
      "filename": "elem.103.wasm",
      "text": "type mismatch",
      "module_type": "binary"
    },
    {
      "type": "assert_invalid",
      "line": 997,
      "filename": "elem.104.wasm",
      "text": "type mismatch",
      "module_type": "binary"
    },
    {
      "type": "module",
      "line": 1006,
      "name": "m",
      "filename": "elem.105.wasm"
    },
    {
      "type": "register",
      "line": 1013,
      "name": "m",
      "as": "exporter"
    },
    {
      "type": "assert_return",
      "line": 1015,
      "action": {
        "type": "invoke",
        "module": "m",
        "field": "get",
        "args": [
          {
            "type": "i32",
            "value": "0"
          }
        ]
      },
      "expected": [
        {
          "type": "externref",
          "value": "null"
        }
      ]
    },
    {
      "type": "assert_return",
      "line": 1016,
      "action": {
        "type": "invoke",
        "module": "m",
        "field": "get",
        "args": [
          {
            "type": "i32",
            "value": "1"
          }
        ]
      },
      "expected": [
        {
          "type": "externref",
          "value": "null"
        }
      ]
    },
    {
      "type": "assert_return",
      "line": 1018,
      "action": {
        "type": "invoke",
        "module": "m",
        "field": "set",
        "args": [
          {
            "type": "i32",
            "value": "0"
          },
          {
            "type": "externref",
            "value": "42"
          }
        ]
      },
      "expected": []
    },
    {
      "type": "assert_return",
      "line": 1019,
      "action": {
        "type": "invoke",
        "module": "m",
        "field": "set",
        "args": [
          {
            "type": "i32",
            "value": "1"
          },
          {
            "type": "externref",
            "value": "137"
          }
        ]
      },
      "expected": []
    },
    {
      "type": "assert_return",
      "line": 1021,
      "action": {
        "type": "invoke",
        "module": "m",
        "field": "get",
        "args": [
          {
            "type": "i32",
            "value": "0"
          }
        ]
      },
      "expected": [
        {
          "type": "externref",
          "value": "42"
        }
      ]
    },
    {
      "type": "assert_return",
      "line": 1022,
      "action": {
        "type": "invoke",
        "module": "m",
        "field": "get",
        "args": [
          {
            "type": "i32",
            "value": "1"
          }
        ]
      },
      "expected": [
        {
          "type": "externref",
          "value": "137"
        }
      ]
    },
    {
      "type": "module",
      "line": 1024,
      "filename": "elem.106.wasm"
    },
    {
      "type": "assert_return",
      "line": 1028,
      "action": {
        "type": "invoke",
        "module": "m",
        "field": "get",
        "args": [
          {
            "type": "i32",
            "value": "0"
          }
        ]
      },
      "expected": [
        {
          "type": "externref",
          "value": "null"
        }
      ]
    },
    {
      "type": "assert_return",
      "line": 1029,
      "action": {
        "type": "invoke",
        "module": "m",
        "field": "get",
        "args": [
          {
            "type": "i32",
            "value": "1"
          }
        ]
      },
      "expected": [
        {
          "type": "externref",
          "value": "137"
        }
      ]
    },
    {
      "type": "module",
      "line": 1033,
      "name": "module4",
      "filename": "elem.107.wasm"
    },
    {
      "type": "register",
      "line": 1040,
      "name": "module4",
      "as": "module4"
    },
    {
      "type": "module",
      "line": 1042,
      "filename": "elem.108.wasm"
    },
    {
      "type": "assert_return",
      "line": 1052,
      "action": {
        "type": "invoke",
        "field": "call_imported_elem",
        "args": []
      },
      "expected": [
        {
          "type": "i32",
          "value": "42"
        }
      ]
    }
  ]
}