{
  "source_filename": "tests/testsuite/proposals/function-references/elem.wast",
  "commands": [
    {
      "type": "module",
      "line": 4,
      "filename": "elem.0.wasm"
    },
    {
      "type": "module",
      "line": 80,
      "filename": "elem.1.wasm"
    },
    {
      "type": "module",
      "line": 87,
      "filename": "elem.2.wasm"
    },
    {
      "type": "module",
      "line": 98,
      "filename": "elem.3.wasm"
    },
    {
      "type": "module",
      "line": 103,
      "filename": "elem.4.wasm"
    },
    {
      "type": "module",
      "line": 109,
      "filename": "elem.5.wasm"
    },
    {
      "type": "module",
      "line": 118,
      "filename": "elem.6.wasm"
    },
    {
      "type": "module",
      "line": 128,
      "filename": "elem.7.wasm"
    },
    {
      "type": "module",
      "line": 135,
      "filename": "elem.8.wasm"
    },
    {
      "type": "module",
      "line": 142,
      "filename": "elem.9.wasm"
    },
    {
      "type": "assert_return",
      "line": 156,
      "action": {
        "type": "invoke",
        "field": "call-7",
        "args": []
      },
      "expected": [
        {
          "type": "i32",
          "value": "65"
        }
      ]
    },
    {
      "type": "assert_return",
      "line": 157,
      "action": {
        "type": "invoke",
        "field": "call-9",
        "args": []
      },
      "expected": [
        {
          "type": "i32",
          "value": "66"
        }
      ]
    },
    {
      "type": "module",
      "line": 161,
      "filename": "elem.10.wasm"
    },
    {
      "type": "assert_return",
      "line": 175,
      "action": {
        "type": "invoke",
        "field": "call-7",
        "args": []
      },
      "expected": [
        {
          "type": "i32",
          "value": "65"
        }
      ]
    },
    {
      "type": "assert_return",
      "line": 176,
      "action": {
        "type": "invoke",
        "field": "call-9",
        "args": []
      },
      "expected": [
        {
          "type": "i32",
          "value": "66"
        }
      ]
    },
    {
      "type": "module",
      "line": 181,
      "filename": "elem.11.wasm"
    },
    {
      "type": "module",
      "line": 186,
      "filename": "elem.12.wasm"
    },
    {
      "type": "module",
      "line": 192,
      "filename": "elem.13.wasm"
    },
    {
      "type": "module",
      "line": 196,
      "filename": "elem.14.wasm"
    },
    {
      "type": "module",
      "line": 201,
      "filename": "elem.15.wasm"
    },
    {
      "type": "module",
      "line": 206,
      "filename": "elem.16.wasm"
    },
    {
      "type": "module",
      "line": 211,
      "filename": "elem.17.wasm"
    },
    {
      "type": "module",
      "line": 217,
      "filename": "elem.18.wasm"
    },
    {
      "type": "module",
      "line": 223,
      "filename": "elem.19.wasm"
    },
    {
      "type": "module",
      "line": 229,
      "filename": "elem.20.wasm"
    },
    {
      "type": "assert_uninstantiable",
      "line": 239,
      "filename": "elem.21.wasm",
      "text": "out of bounds table access",
      "module_type": "binary"
    },
    {
      "type": "assert_uninstantiable",
      "line": 248,
      "filename": "elem.22.wasm",
      "text": "out of bounds table access",
      "module_type": "binary"
    },
    {
      "type": "assert_uninstantiable",
      "line": 257,
      "filename": "elem.23.wasm",
      "text": "out of bounds table access",
      "module_type": "binary"
    },
    {
      "type": "assert_uninstantiable",
      "line": 266,
      "filename": "elem.24.wasm",
      "text": "out of bounds table access",
      "module_type": "binary"
    },
    {
      "type": "assert_uninstantiable",
      "line": 273,
      "filename": "elem.25.wasm",
      "text": "out of bounds table access",
      "module_type": "binary"
    },
    {
      "type": "assert_uninstantiable",
      "line": 281,
      "filename": "elem.26.wasm",
      "text": "out of bounds table access",
      "module_type": "binary"
    },
    {
      "type": "assert_uninstantiable",
      "line": 290,
      "filename": "elem.27.wasm",
      "text": "out of bounds table access",
      "module_type": "binary"
    },
    {
      "type": "assert_uninstantiable",
      "line": 298,
      "filename": "elem.28.wasm",
      "text": "out of bounds table access",
      "module_type": "binary"
    },
    {
      "type": "assert_uninstantiable",
      "line": 307,
      "filename": "elem.29.wasm",
      "text": "out of bounds table access",
      "module_type": "binary"
    },
    {
      "type": "assert_uninstantiable",
      "line": 315,
      "filename": "elem.30.wasm",
      "text": "out of bounds table access",
      "module_type": "binary"
    },
    {
      "type": "assert_uninstantiable",
      "line": 324,
      "filename": "elem.31.wasm",
      "text": "out of bounds table access",
      "module_type": "binary"
    },
    {
      "type": "assert_uninstantiable",
      "line": 332,
      "filename": "elem.32.wasm",
      "text": "out of bounds table access",
      "module_type": "binary"
    },
    {
      "type": "module",
      "line": 343,
      "filename": "elem.33.wasm"
    },
    {
      "type": "assert_trap",
      "line": 351,
      "action": {
        "type": "invoke",
        "field": "init",
        "args": []
      },
      "text": "out of bounds table access"
    },
    {
      "type": "module",
      "line": 353,
      "filename": "elem.34.wasm"
    },
    {
      "type": "assert_trap",
      "line": 361,
      "action": {
        "type": "invoke",
        "field": "init",
        "args": []
      },
      "text": "out of bounds table access"
    },
    {
      "type": "assert_invalid",
      "line": 367,
      "filename": "elem.35.wasm",
      "text": "unknown table",
      "module_type": "binary"
    },
    {
      "type": "assert_invalid",
      "line": 378,
      "filename": "elem.36.wasm",
      "text": "type mismatch",
      "module_type": "binary"
    },
    {
      "type": "assert_invalid",
      "line": 386,
      "filename": "elem.37.wasm",
      "text": "type mismatch",
      "module_type": "binary"
    },
    {
      "type": "assert_invalid",
      "line": 394,
      "filename": "elem.38.wasm",
      "text": "type mismatch",
      "module_type": "binary"
    },
    {
      "type": "assert_invalid",
      "line": 402,
      "filename": "elem.39.wasm",
      "text": "type mismatch",
      "module_type": "binary"
    },
    {
      "type": "assert_invalid",
      "line": 410,
      "filename": "elem.40.wasm",
      "text": "type mismatch",
      "module_type": "binary"
    },
    {
      "type": "assert_invalid",
      "line": 419,
      "filename": "elem.41.wasm",
      "text": "type mismatch",
      "module_type": "binary"
    },
    {
      "type": "assert_invalid",
      "line": 429,
      "filename": "elem.42.wasm",
      "text": "constant expression required",
      "module_type": "binary"
    },
    {
      "type": "assert_invalid",
      "line": 437,
      "filename": "elem.43.wasm",
      "text": "constant expression required",
      "module_type": "binary"
    },
    {
      "type": "assert_invalid",
      "line": 445,
      "filename": "elem.44.wasm",
      "text": "constant expression required",
      "module_type": "binary"
    },
    {
      "type": "assert_invalid",
      "line": 453,
      "filename": "elem.45.wasm",
      "text": "constant expression required",
      "module_type": "binary"
    },
    {
      "type": "assert_invalid",
      "line": 461,
      "filename": "elem.46.wasm",
      "text": "constant expression required",
      "module_type": "binary"
    },
    {
      "type": "assert_invalid",
      "line": 470,
      "filename": "elem.47.wasm",
      "text": "unknown global 0",
      "module_type": "binary"
    },
    {
      "type": "assert_invalid",
      "line": 478,
      "filename": "elem.48.wasm",
      "text": "unknown global 1",
      "module_type": "binary"
    },
    {
      "type": "assert_invalid",
      "line": 487,
      "filename": "elem.49.wasm",
      "text": "constant expression required",
      "module_type": "binary"
    },
    {
      "type": "assert_invalid",
      "line": 499,
      "filename": "elem.50.wasm",
      "text": "type mismatch",
      "module_type": "binary"
    },
    {
      "type": "assert_invalid",
      "line": 507,
      "filename": "elem.51.wasm",
      "text": "type mismatch",
      "module_type": "binary"
    },
    {
      "type": "assert_invalid",
      "line": 515,
      "filename": "elem.52.wasm",
      "text": "type mismatch",
      "module_type": "binary"
    },
    {
      "type": "assert_invalid",
      "line": 523,
      "filename": "elem.53.wasm",
      "text": "type mismatch",
      "module_type": "binary"
    },
    {
      "type": "assert_invalid",
      "line": 531,
      "filename": "elem.54.wasm",
      "text": "constant expression required",
      "module_type": "binary"
    },
    {
      "type": "assert_invalid",
      "line": 540,
      "filename": "elem.55.wasm",
      "text": "constant expression required",
      "module_type": "binary"
    },
    {
      "type": "module",
      "line": 550,
      "filename": "elem.56.wasm"
    },
    {
      "type": "assert_return",
      "line": 561,
      "action": {
        "type": "invoke",
        "field": "call-overwritten",
        "args": []
      },
      "expected": [
        {
          "type": "i32",
          "value": "66"
        }
      ]
    },
    {
      "type": "module",
      "line": 563,
      "filename": "elem.57.wasm"
    },
    {
      "type": "assert_return",
      "line": 574,
      "action": {
        "type": "invoke",
        "field": "call-overwritten-element",
        "args": []
      },
      "expected": [
        {
          "type": "i32",
          "value": "66"
        }
      ]
    },
    {
      "type": "module",
      "line": 579,
      "name": "module1",
      "filename": "elem.58.wasm"
    },
    {
      "type": "register",
      "line": 597,
      "name": "module1",
      "as": "module1"
    },
    {
      "type": "assert_trap",
      "line": 599,
      "action": {
        "type": "invoke",
        "module": "module1",
        "field": "call-7",
        "args": []
      },
      "text": "uninitialized element"
    },
    {
      "type": "assert_return",
      "line": 600,
      "action": {
        "type": "invoke",
        "module": "module1",
        "field": "call-8",
        "args": []
      },
      "expected": [
        {
          "type": "i32",
          "value": "65"
        }
      ]
    },
    {
      "type": "assert_return",
      "line": 601,
      "action": {
        "type": "invoke",
        "module": "module1",
        "field": "call-9",
        "args": []
      },
      "expected": [
        {
          "type": "i32",
          "value": "66"
        }
      ]
    },
    {
      "type": "module",
      "line": 603,
      "name": "module2",
      "filename": "elem.59.wasm"
    },
    {
      "type": "assert_return",
      "line": 612,
      "action": {
        "type": "invoke",
        "module": "module1",
        "field": "call-7",
        "args": []
      },
      "expected": [
        {
          "type": "i32",
          "value": "67"
        }
      ]
    },
    {
      "type": "assert_return",
      "line": 613,
      "action": {
        "type": "invoke",
        "module": "module1",
        "field": "call-8",
        "args": []
      },
      "expected": [
        {
          "type": "i32",
          "value": "68"
        }
      ]
    },
    {
      "type": "assert_return",
      "line": 614,
      "action": {
        "type": "invoke",
        "module": "module1",
        "field": "call-9",
        "args": []
      },
      "expected": [
        {
          "type": "i32",
          "value": "66"
        }
      ]
    },
    {
      "type": "module",
      "line": 616,
      "name": "module3",
      "filename": "elem.60.wasm"
    },
    {
      "type": "assert_return",
      "line": 625,
      "action": {
        "type": "invoke",
        "module": "module1",
        "field": "call-7",
        "args": []
      },
      "expected": [
        {
          "type": "i32",
          "value": "67"
        }
      ]
    },
    {
      "type": "assert_return",
      "line": 626,
      "action": {
        "type": "invoke",
        "module": "module1",
        "field": "call-8",
        "args": []
      },
      "expected": [
        {
          "type": "i32",
          "value": "69"
        }
      ]
    },
    {
      "type": "assert_return",
      "line": 627,
      "action": {
        "type": "invoke",
        "module": "module1",
        "field": "call-9",
        "args": []
      },
      "expected": [
        {
          "type": "i32",
          "value": "70"
        }
      ]
    },
    {
      "type": "assert_invalid",
      "line": 632,
      "filename": "elem.61.wasm",
      "text": "type mismatch",
      "module_type": "binary"
    },
    {
      "type": "assert_invalid",
      "line": 637,
      "filename": "elem.62.wasm",
      "text": "type mismatch",
      "module_type": "binary"
    },
    {
      "type": "assert_invalid",
      "line": 642,
      "filename": "elem.63.wasm",
      "text": "type mismatch",
      "module_type": "binary"
    },
    {
      "type": "assert_invalid",
      "line": 651,
      "filename": "elem.64.wasm",
      "text": "type mismatch",
      "module_type": "binary"
    },
    {
      "type": "module",
      "line": 660,
      "name": "m",
      "filename": "elem.65.wasm"
    },
    {
      "type": "register",
      "line": 667,
      "name": "m",
      "as": "exporter"
    },
    {
      "type": "assert_return",
      "line": 669,
      "action": {
        "type": "invoke",
        "module": "m",
        "field": "get",
        "args": [
          {
            "type": "i32",
            "value": "0"
          }
        ]
      },
      "expected": [
        {
          "type": "externref",
          "value": "null"
        }
      ]
    },
    {
      "type": "assert_return",
      "line": 670,
      "action": {
        "type": "invoke",
        "module": "m",
        "field": "get",
        "args": [
          {
            "type": "i32",
            "value": "1"
          }
        ]
      },
      "expected": [
        {
          "type": "externref",
          "value": "null"
        }
      ]
    },
    {
      "type": "assert_return",
      "line": 672,
      "action": {
        "type": "invoke",
        "module": "m",
        "field": "set",
        "args": [
          {
            "type": "i32",
            "value": "0"
          },
          {
            "type": "externref",
            "value": "42"
          }
        ]
      },
      "expected": []
    },
    {
      "type": "assert_return",
      "line": 673,
      "action": {
        "type": "invoke",
        "module": "m",
        "field": "set",
        "args": [
          {
            "type": "i32",
            "value": "1"
          },
          {
            "type": "externref",
            "value": "137"
          }
        ]
      },
      "expected": []
    },
    {
      "type": "assert_return",
      "line": 675,
      "action": {
        "type": "invoke",
        "module": "m",
        "field": "get",
        "args": [
          {
            "type": "i32",
            "value": "0"
          }
        ]
      },
      "expected": [
        {
          "type": "externref",
          "value": "42"
        }
      ]
    },
    {
      "type": "assert_return",
      "line": 676,
      "action": {
        "type": "invoke",
        "module": "m",
        "field": "get",
        "args": [
          {
            "type": "i32",
            "value": "1"
          }
        ]
      },
      "expected": [
        {
          "type": "externref",
          "value": "137"
        }
      ]
    },
    {
      "type": "module",
      "line": 678,
      "filename": "elem.66.wasm"
    },
    {
      "type": "assert_return",
      "line": 682,
      "action": {
        "type": "invoke",
        "module": "m",
        "field": "get",
        "args": [
          {
            "type": "i32",
            "value": "0"
          }
        ]
      },
      "expected": [
        {
          "type": "externref",
          "value": "null"
        }
      ]
    },
    {
      "type": "assert_return",
      "line": 683,
      "action": {
        "type": "invoke",
        "module": "m",
        "field": "get",
        "args": [
          {
            "type": "i32",
            "value": "1"
          }
        ]
      },
      "expected": [
        {
          "type": "externref",
          "value": "137"
        }
      ]
    },
    {
      "type": "module",
      "line": 687,
      "name": "module4",
      "filename": "elem.67.wasm"
    },
    {
      "type": "register",
      "line": 694,
      "name": "module4",
      "as": "module4"
    },
    {
      "type": "module",
      "line": 696,
      "filename": "elem.68.wasm"
    },
    {
      "type": "assert_return",
      "line": 706,
      "action": {
        "type": "invoke",
        "field": "call_imported_elem",
        "args": []
      },
      "expected": [
        {
          "type": "i32",
          "value": "42"
        }
      ]
    }
  ]
}