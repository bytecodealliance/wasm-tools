{
  "source_filename": "tests/testsuite/proposals/extended-const/elem.wast",
  "commands": [
    {
      "type": "module",
      "line": 4,
      "filename": "elem.0.wasm",
      "module_type": "binary"
    },
    {
      "type": "module",
      "line": 80,
      "filename": "elem.1.wasm",
      "module_type": "binary"
    },
    {
      "type": "module",
      "line": 90,
      "filename": "elem.2.wasm",
      "module_type": "binary"
    },
    {
      "type": "module",
      "line": 95,
      "filename": "elem.3.wasm",
      "module_type": "binary"
    },
    {
      "type": "module",
      "line": 101,
      "filename": "elem.4.wasm",
      "module_type": "binary"
    },
    {
      "type": "module",
      "line": 110,
      "filename": "elem.5.wasm",
      "module_type": "binary"
    },
    {
      "type": "module",
      "line": 120,
      "filename": "elem.6.wasm",
      "module_type": "binary"
    },
    {
      "type": "module",
      "line": 127,
      "filename": "elem.7.wasm",
      "module_type": "binary"
    },
    {
      "type": "module",
      "line": 134,
      "filename": "elem.8.wasm",
      "module_type": "binary"
    },
    {
      "type": "assert_return",
      "line": 148,
      "action": {
        "type": "invoke",
        "field": "call-7",
        "args": []
      },
      "expected": [
        {
          "type": "i32",
          "value": "65"
        }
      ]
    },
    {
      "type": "assert_return",
      "line": 149,
      "action": {
        "type": "invoke",
        "field": "call-9",
        "args": []
      },
      "expected": [
        {
          "type": "i32",
          "value": "66"
        }
      ]
    },
    {
      "type": "module",
      "line": 153,
      "filename": "elem.9.wasm",
      "module_type": "binary"
    },
    {
      "type": "assert_return",
      "line": 167,
      "action": {
        "type": "invoke",
        "field": "call-7",
        "args": []
      },
      "expected": [
        {
          "type": "i32",
          "value": "65"
        }
      ]
    },
    {
      "type": "assert_return",
      "line": 168,
      "action": {
        "type": "invoke",
        "field": "call-9",
        "args": []
      },
      "expected": [
        {
          "type": "i32",
          "value": "66"
        }
      ]
    },
    {
      "type": "assert_invalid",
      "line": 171,
      "filename": "elem.10.wasm",
      "module_type": "binary",
      "text": "unknown global"
    },
    {
      "type": "assert_invalid",
      "line": 175,
      "filename": "elem.11.wasm",
      "module_type": "binary",
      "text": "unknown global"
    },
    {
      "type": "module",
      "line": 182,
      "filename": "elem.12.wasm",
      "module_type": "binary"
    },
    {
      "type": "module",
      "line": 187,
      "filename": "elem.13.wasm",
      "module_type": "binary"
    },
    {
      "type": "module",
      "line": 193,
      "filename": "elem.14.wasm",
      "module_type": "binary"
    },
    {
      "type": "module",
      "line": 197,
      "filename": "elem.15.wasm",
      "module_type": "binary"
    },
    {
      "type": "module",
      "line": 202,
      "filename": "elem.16.wasm",
      "module_type": "binary"
    },
    {
      "type": "module",
      "line": 207,
      "filename": "elem.17.wasm",
      "module_type": "binary"
    },
    {
      "type": "module",
      "line": 212,
      "filename": "elem.18.wasm",
      "module_type": "binary"
    },
    {
      "type": "module",
      "line": 218,
      "filename": "elem.19.wasm",
      "module_type": "binary"
    },
    {
      "type": "module",
      "line": 224,
      "filename": "elem.20.wasm",
      "module_type": "binary"
    },
    {
      "type": "module",
      "line": 230,
      "filename": "elem.21.wasm",
      "module_type": "binary"
    },
    {
      "type": "assert_uninstantiable",
      "line": 239,
      "filename": "elem.22.wasm",
      "module_type": "binary",
      "text": "out of bounds table access"
    },
    {
      "type": "assert_uninstantiable",
      "line": 248,
      "filename": "elem.23.wasm",
      "module_type": "binary",
      "text": "out of bounds table access"
    },
    {
      "type": "assert_uninstantiable",
      "line": 257,
      "filename": "elem.24.wasm",
      "module_type": "binary",
      "text": "out of bounds table access"
    },
    {
      "type": "assert_uninstantiable",
      "line": 266,
      "filename": "elem.25.wasm",
      "module_type": "binary",
      "text": "out of bounds table access"
    },
    {
      "type": "assert_uninstantiable",
      "line": 273,
      "filename": "elem.26.wasm",
      "module_type": "binary",
      "text": "out of bounds table access"
    },
    {
      "type": "assert_uninstantiable",
      "line": 281,
      "filename": "elem.27.wasm",
      "module_type": "binary",
      "text": "out of bounds table access"
    },
    {
      "type": "assert_uninstantiable",
      "line": 290,
      "filename": "elem.28.wasm",
      "module_type": "binary",
      "text": "out of bounds table access"
    },
    {
      "type": "assert_uninstantiable",
      "line": 298,
      "filename": "elem.29.wasm",
      "module_type": "binary",
      "text": "out of bounds table access"
    },
    {
      "type": "assert_uninstantiable",
      "line": 307,
      "filename": "elem.30.wasm",
      "module_type": "binary",
      "text": "out of bounds table access"
    },
    {
      "type": "assert_uninstantiable",
      "line": 315,
      "filename": "elem.31.wasm",
      "module_type": "binary",
      "text": "out of bounds table access"
    },
    {
      "type": "assert_uninstantiable",
      "line": 324,
      "filename": "elem.32.wasm",
      "module_type": "binary",
      "text": "out of bounds table access"
    },
    {
      "type": "assert_uninstantiable",
      "line": 332,
      "filename": "elem.33.wasm",
      "module_type": "binary",
      "text": "out of bounds table access"
    },
    {
      "type": "module",
      "line": 342,
      "filename": "elem.34.wasm",
      "module_type": "binary"
    },
    {
      "type": "assert_trap",
      "line": 350,
      "action": {
        "type": "invoke",
        "field": "init",
        "args": []
      },
      "text": "out of bounds table access"
    },
    {
      "type": "module",
      "line": 352,
      "filename": "elem.35.wasm",
      "module_type": "binary"
    },
    {
      "type": "assert_trap",
      "line": 360,
      "action": {
        "type": "invoke",
        "field": "init",
        "args": []
      },
      "text": "out of bounds table access"
    },
    {
      "type": "assert_invalid",
      "line": 365,
      "filename": "elem.36.wasm",
      "module_type": "binary",
      "text": "unknown table"
    },
    {
      "type": "assert_invalid",
      "line": 375,
      "filename": "elem.37.wasm",
      "module_type": "binary",
      "text": "type mismatch"
    },
    {
      "type": "assert_invalid",
      "line": 383,
      "filename": "elem.38.wasm",
      "module_type": "binary",
      "text": "type mismatch"
    },
    {
      "type": "assert_invalid",
      "line": 391,
      "filename": "elem.39.wasm",
      "module_type": "binary",
      "text": "type mismatch"
    },
    {
      "type": "assert_invalid",
      "line": 399,
      "filename": "elem.40.wasm",
      "module_type": "binary",
      "text": "type mismatch"
    },
    {
      "type": "assert_invalid",
      "line": 407,
      "filename": "elem.41.wasm",
      "module_type": "binary",
      "text": "type mismatch"
    },
    {
      "type": "assert_invalid",
      "line": 416,
      "filename": "elem.42.wasm",
      "module_type": "binary",
      "text": "type mismatch"
    },
    {
      "type": "assert_invalid",
      "line": 426,
      "filename": "elem.43.wasm",
      "module_type": "binary",
      "text": "constant expression required"
    },
    {
      "type": "assert_invalid",
      "line": 434,
      "filename": "elem.44.wasm",
      "module_type": "binary",
      "text": "constant expression required"
    },
    {
      "type": "assert_invalid",
      "line": 442,
      "filename": "elem.45.wasm",
      "module_type": "binary",
      "text": "constant expression required"
    },
    {
      "type": "assert_invalid",
      "line": 450,
      "filename": "elem.46.wasm",
      "module_type": "binary",
      "text": "constant expression required"
    },
    {
      "type": "assert_invalid",
      "line": 458,
      "filename": "elem.47.wasm",
      "module_type": "binary",
      "text": "constant expression required"
    },
    {
      "type": "assert_invalid",
      "line": 467,
      "filename": "elem.48.wasm",
      "module_type": "binary",
      "text": "unknown global 0"
    },
    {
      "type": "assert_invalid",
      "line": 475,
      "filename": "elem.49.wasm",
      "module_type": "binary",
      "text": "unknown global 1"
    },
    {
      "type": "assert_invalid",
      "line": 484,
      "filename": "elem.50.wasm",
      "module_type": "binary",
      "text": "constant expression required"
    },
    {
      "type": "assert_invalid",
      "line": 495,
      "filename": "elem.51.wasm",
      "module_type": "binary",
      "text": "type mismatch"
    },
    {
      "type": "assert_invalid",
      "line": 503,
      "filename": "elem.52.wasm",
      "module_type": "binary",
      "text": "type mismatch"
    },
    {
      "type": "assert_invalid",
      "line": 511,
      "filename": "elem.53.wasm",
      "module_type": "binary",
      "text": "type mismatch"
    },
    {
      "type": "assert_invalid",
      "line": 519,
      "filename": "elem.54.wasm",
      "module_type": "binary",
      "text": "type mismatch"
    },
    {
      "type": "assert_invalid",
      "line": 527,
      "filename": "elem.55.wasm",
      "module_type": "binary",
      "text": "constant expression required"
    },
    {
      "type": "assert_invalid",
      "line": 536,
      "filename": "elem.56.wasm",
      "module_type": "binary",
      "text": "constant expression required"
    },
    {
      "type": "module",
      "line": 546,
      "filename": "elem.57.wasm",
      "module_type": "binary"
    },
    {
      "type": "assert_return",
      "line": 557,
      "action": {
        "type": "invoke",
        "field": "call-overwritten",
        "args": []
      },
      "expected": [
        {
          "type": "i32",
          "value": "66"
        }
      ]
    },
    {
      "type": "module",
      "line": 559,
      "filename": "elem.58.wasm",
      "module_type": "binary"
    },
    {
      "type": "assert_return",
      "line": 570,
      "action": {
        "type": "invoke",
        "field": "call-overwritten-element",
        "args": []
      },
      "expected": [
        {
          "type": "i32",
          "value": "66"
        }
      ]
    },
    {
      "type": "module",
      "line": 574,
      "name": "module1",
      "filename": "elem.59.wasm",
      "module_type": "binary"
    },
    {
      "type": "register",
      "line": 592,
      "name": "module1",
      "as": "module1"
    },
    {
      "type": "assert_trap",
      "line": 594,
      "action": {
        "type": "invoke",
        "module": "module1",
        "field": "call-7",
        "args": []
      },
      "text": "uninitialized element"
    },
    {
      "type": "assert_return",
      "line": 595,
      "action": {
        "type": "invoke",
        "module": "module1",
        "field": "call-8",
        "args": []
      },
      "expected": [
        {
          "type": "i32",
          "value": "65"
        }
      ]
    },
    {
      "type": "assert_return",
      "line": 596,
      "action": {
        "type": "invoke",
        "module": "module1",
        "field": "call-9",
        "args": []
      },
      "expected": [
        {
          "type": "i32",
          "value": "66"
        }
      ]
    },
    {
      "type": "module",
      "line": 598,
      "name": "module2",
      "filename": "elem.60.wasm",
      "module_type": "binary"
    },
    {
      "type": "assert_return",
      "line": 607,
      "action": {
        "type": "invoke",
        "module": "module1",
        "field": "call-7",
        "args": []
      },
      "expected": [
        {
          "type": "i32",
          "value": "67"
        }
      ]
    },
    {
      "type": "assert_return",
      "line": 608,
      "action": {
        "type": "invoke",
        "module": "module1",
        "field": "call-8",
        "args": []
      },
      "expected": [
        {
          "type": "i32",
          "value": "68"
        }
      ]
    },
    {
      "type": "assert_return",
      "line": 609,
      "action": {
        "type": "invoke",
        "module": "module1",
        "field": "call-9",
        "args": []
      },
      "expected": [
        {
          "type": "i32",
          "value": "66"
        }
      ]
    },
    {
      "type": "module",
      "line": 611,
      "name": "module3",
      "filename": "elem.61.wasm",
      "module_type": "binary"
    },
    {
      "type": "assert_return",
      "line": 620,
      "action": {
        "type": "invoke",
        "module": "module1",
        "field": "call-7",
        "args": []
      },
      "expected": [
        {
          "type": "i32",
          "value": "67"
        }
      ]
    },
    {
      "type": "assert_return",
      "line": 621,
      "action": {
        "type": "invoke",
        "module": "module1",
        "field": "call-8",
        "args": []
      },
      "expected": [
        {
          "type": "i32",
          "value": "69"
        }
      ]
    },
    {
      "type": "assert_return",
      "line": 622,
      "action": {
        "type": "invoke",
        "module": "module1",
        "field": "call-9",
        "args": []
      },
      "expected": [
        {
          "type": "i32",
          "value": "70"
        }
      ]
    },
    {
      "type": "assert_invalid",
      "line": 627,
      "filename": "elem.62.wasm",
      "module_type": "binary",
      "text": "type mismatch"
    },
    {
      "type": "assert_invalid",
      "line": 632,
      "filename": "elem.63.wasm",
      "module_type": "binary",
      "text": "type mismatch"
    },
    {
      "type": "assert_invalid",
      "line": 637,
      "filename": "elem.64.wasm",
      "module_type": "binary",
      "text": "type mismatch"
    },
    {
      "type": "assert_invalid",
      "line": 646,
      "filename": "elem.65.wasm",
      "module_type": "binary",
      "text": "type mismatch"
    },
    {
      "type": "module",
      "line": 655,
      "name": "m",
      "filename": "elem.66.wasm",
      "module_type": "binary"
    },
    {
      "type": "register",
      "line": 662,
      "name": "m",
      "as": "exporter"
    },
    {
      "type": "assert_return",
      "line": 664,
      "action": {
        "type": "invoke",
        "module": "m",
        "field": "get",
        "args": [
          {
            "type": "i32",
            "value": "0"
          }
        ]
      },
      "expected": [
        {
          "type": "externref",
          "value": "null"
        }
      ]
    },
    {
      "type": "assert_return",
      "line": 665,
      "action": {
        "type": "invoke",
        "module": "m",
        "field": "get",
        "args": [
          {
            "type": "i32",
            "value": "1"
          }
        ]
      },
      "expected": [
        {
          "type": "externref",
          "value": "null"
        }
      ]
    },
    {
      "type": "assert_return",
      "line": 667,
      "action": {
        "type": "invoke",
        "module": "m",
        "field": "set",
        "args": [
          {
            "type": "i32",
            "value": "0"
          },
          {
            "type": "externref",
            "value": "42"
          }
        ]
      },
      "expected": []
    },
    {
      "type": "assert_return",
      "line": 668,
      "action": {
        "type": "invoke",
        "module": "m",
        "field": "set",
        "args": [
          {
            "type": "i32",
            "value": "1"
          },
          {
            "type": "externref",
            "value": "137"
          }
        ]
      },
      "expected": []
    },
    {
      "type": "assert_return",
      "line": 670,
      "action": {
        "type": "invoke",
        "module": "m",
        "field": "get",
        "args": [
          {
            "type": "i32",
            "value": "0"
          }
        ]
      },
      "expected": [
        {
          "type": "externref",
          "value": "42"
        }
      ]
    },
    {
      "type": "assert_return",
      "line": 671,
      "action": {
        "type": "invoke",
        "module": "m",
        "field": "get",
        "args": [
          {
            "type": "i32",
            "value": "1"
          }
        ]
      },
      "expected": [
        {
          "type": "externref",
          "value": "137"
        }
      ]
    },
    {
      "type": "module",
      "line": 673,
      "filename": "elem.67.wasm",
      "module_type": "binary"
    },
    {
      "type": "assert_return",
      "line": 677,
      "action": {
        "type": "invoke",
        "module": "m",
        "field": "get",
        "args": [
          {
            "type": "i32",
            "value": "0"
          }
        ]
      },
      "expected": [
        {
          "type": "externref",
          "value": "null"
        }
      ]
    },
    {
      "type": "assert_return",
      "line": 678,
      "action": {
        "type": "invoke",
        "module": "m",
        "field": "get",
        "args": [
          {
            "type": "i32",
            "value": "1"
          }
        ]
      },
      "expected": [
        {
          "type": "externref",
          "value": "137"
        }
      ]
    },
    {
      "type": "module",
      "line": 682,
      "name": "module4",
      "filename": "elem.68.wasm",
      "module_type": "binary"
    },
    {
      "type": "register",
      "line": 689,
      "name": "module4",
      "as": "module4"
    },
    {
      "type": "module",
      "line": 691,
      "filename": "elem.69.wasm",
      "module_type": "binary"
    },
    {
      "type": "assert_return",
      "line": 701,
      "action": {
        "type": "invoke",
        "field": "call_imported_elem",
        "args": []
      },
      "expected": [
        {
          "type": "i32",
          "value": "42"
        }
      ]
    },
    {
      "type": "module",
      "line": 705,
      "filename": "elem.70.wasm",
      "module_type": "binary"
    },
    {
      "type": "assert_return",
      "line": 713,
      "action": {
        "type": "invoke",
        "field": "call_in_table",
        "args": [
          {
            "type": "i32",
            "value": "3"
          }
        ]
      },
      "expected": [
        {
          "type": "i32",
          "value": "42"
        }
      ]
    },
    {
      "type": "assert_trap",
      "line": 714,
      "action": {
        "type": "invoke",
        "field": "call_in_table",
        "args": [
          {
            "type": "i32",
            "value": "0"
          }
        ]
      },
      "text": "uninitialized element"
    },
    {
      "type": "module",
      "line": 716,
      "filename": "elem.71.wasm",
      "module_type": "binary"
    },
    {
      "type": "assert_return",
      "line": 724,
      "action": {
        "type": "invoke",
        "field": "call_in_table",
        "args": [
          {
            "type": "i32",
            "value": "1"
          }
        ]
      },
      "expected": [
        {
          "type": "i32",
          "value": "42"
        }
      ]
    },
    {
      "type": "assert_trap",
      "line": 725,
      "action": {
        "type": "invoke",
        "field": "call_in_table",
        "args": [
          {
            "type": "i32",
            "value": "0"
          }
        ]
      },
      "text": "uninitialized element"
    },
    {
      "type": "module",
      "line": 727,
      "filename": "elem.72.wasm",
      "module_type": "binary"
    },
    {
      "type": "assert_return",
      "line": 735,
      "action": {
        "type": "invoke",
        "field": "call_in_table",
        "args": [
          {
            "type": "i32",
            "value": "4"
          }
        ]
      },
      "expected": [
        {
          "type": "i32",
          "value": "42"
        }
      ]
    },
    {
      "type": "assert_trap",
      "line": 736,
      "action": {
        "type": "invoke",
        "field": "call_in_table",
        "args": [
          {
            "type": "i32",
            "value": "0"
          }
        ]
      },
      "text": "uninitialized element"
    },
    {
      "type": "module",
      "line": 740,
      "filename": "elem.73.wasm",
      "module_type": "binary"
    },
    {
      "type": "assert_return",
      "line": 757,
      "action": {
        "type": "invoke",
        "field": "call_in_table",
        "args": [
          {
            "type": "i32",
            "value": "6"
          }
        ]
      },
      "expected": [
        {
          "type": "i32",
          "value": "42"
        }
      ]
    },
    {
      "type": "assert_trap",
      "line": 758,
      "action": {
        "type": "invoke",
        "field": "call_in_table",
        "args": [
          {
            "type": "i32",
            "value": "0"
          }
        ]
      },
      "text": "uninitialized element"
    }
  ]
}