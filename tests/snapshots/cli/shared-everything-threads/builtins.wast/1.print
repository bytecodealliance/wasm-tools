(component
  (core type $start (;0;) (shared (func (param i32))))
  (core func $spawn-ref (;0;) (canon thread.spawn-ref $start))
  (core module $libc (;0;)
    (table (;0;) shared 1 (ref null (shared func)))
    (export "start-table" (table 0))
  )
  (core instance $libc (;0;) (instantiate $libc))
  (alias core export $libc "start-table" (core table (;0;)))
  (core func $spawn-indirect (;1;) (canon thread.spawn-indirect $start (table 0)))
  (core func $parallelism (;2;) (canon thread.available_parallelism))
  (core module $m (;1;)
    (type $spawned_func_ty (;0;) (shared (func (param i32))))
    (type $spawn_ref_ty (;1;) (shared (func (param (ref null $spawned_func_ty) i32) (result i32))))
    (type $spawn_indirect_ty (;2;) (shared (func (param i32 i32) (result i32))))
    (type $parallelism_ty (;3;) (shared (func (result i32))))
    (import "" "spawn-ref" (func (;0;) (type $spawn_ref_ty)))
    (import "" "spawn-indirect" (func (;1;) (type $spawn_indirect_ty)))
    (import "" "parallelism" (func (;2;) (type $parallelism_ty)))
  )
  (core instance (;1;)
    (export "spawn-ref" (func $spawn-ref))
    (export "spawn-indirect" (func $spawn-indirect))
    (export "parallelism" (func $parallelism))
  )
  (core instance (;2;) (instantiate $m
      (with "" (instance 1))
    )
  )
)
