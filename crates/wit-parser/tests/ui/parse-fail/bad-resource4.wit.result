type `foo` used in a handle must be a resource