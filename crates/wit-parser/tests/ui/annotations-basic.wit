package test:annotations-basic;

// Standard codegen hints:
//     - #derive, #serde, #repr for type generation
//     - #assert for runtime validation (e.g., divisor != 0)
//     - #cfg for feature gating
//     - #must_use, #inline, #no_mangle for code generation

#derive(Debug, Clone, PartialEq)
interface basic {
  #derive(Debug, Clone, Copy, Hash)
  type counter = u32;

  #derive(Debug, Clone, PartialEq, Eq)
  #serde(rename_all = "camelCase")
  record result {
    success: bool,
    #serde(rename = "msg")
    message: string,
  }

  #derive(Debug, Copy, Clone, PartialEq, Eq)
  #repr(u8)
  enum status {
    pending,
    active,
    completed,
  }

  #assert(amount > 0, "amount must be greater than zero")
  #inline
  increment: func(value: counter, amount: u32) -> counter;

  #must_use
  #cfg(feature = "status-check")
  get-status: func() -> result;

  #assert(divisor != 0, "divisor cannot be zero")
  divide: func(dividend: u32, divisor: u32) -> u32;
}

#cfg(feature = "test-world")
world test {
  import basic;
  export basic;
}
